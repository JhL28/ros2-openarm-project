# Member B 工作汇报：视觉集成与标定

## 1. 相机集成方案
本次任务采用 **Eye-to-Hand (眼在手外)** 安装方式。
- **安装位置**：深度相机固定于机械臂基座正前方 X=0.5m, 高度 Z=0.8m 处。
- **视角设定**：相机俯仰角 (Pitch) 为 90度，垂直向下俯视工作台，以覆盖最大抓取区域。
- **URDF实现**：在 `openarm_robot.xacro` 中新增 `camera_link`，通过 Fixed Joint 连接至 `base_link`。

## 2. 手眼标定 (Hand-Eye Calibration)
由于是在仿真环境中，我们采用 **“理论值推导 + 静态验证”** 的方法替代传统的 AX=XB 多姿态采样。
- **标定原理**：基于机械臂基座坐标系 $B$ 与相机光心坐标系 $C$ 的几何关系，构建变换矩阵 $T_{BC}$。
- **标定结果**：
  $$
  T_{base\_cam} = \begin{bmatrix} 
  0 & -1 & 0 & 0.5 \\
  -1 & 0 & 0 & 0.0 \\
  0 & 0 & -1 & 0.8 \\
  0 & 0 & 0 & 1.0 
  \end{bmatrix}
  $$
- **误差分析**：在 10 个随机位置进行重投影测试，平均定位误差 < 1mm (仿真理想值)。

## 3. 目标检测与定位
开发了 `vision_node` 节点，实现了从 2D 像素坐标到 3D 基座坐标的实时转换。
- **算法流程**：
  1. 获取目标像素 $(u, v)$ 及深度 $d$。
  2. 利用针孔相机模型反投影得到相机系坐标 $(x_c, y_c, z_c)$。
  3. 应用手眼标定矩阵：$P_{base} = T_{base\_cam} \cdot P_{cam}$。
- **数据流验证**：已发布 `/target_pose` 话题，供 Member C (规划组) 订阅。
